"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[252],{5252:(b,p,s)=>{s.r(p),s.d(p,{OnboardingModule:()=>Z});var g=s(6895),a=s(9965),t=s(433),m=s(2942),e=s(8256),d=s(1252),c=s(3942);const f=[{path:"",component:(()=>{class o{ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-onboarding"]],decls:1,vars:0,template:function(n,r){1&n&&e._UZ(0,"router-outlet")},dependencies:[a.lC]}),o})(),children:[{path:"login",component:(()=>{class o{constructor(n,r,u,l){this.fb=n,this.authService=r,this.router=u,this.helper=l,this.loginForm=this.fb.group({email:["",[t.kI.required,t.kI.email]],password:["",t.kI.required]})}ngOnInit(){}loginUser(){this.loginForm.valid&&this.authService.loginUser(this.loginForm.value).subscribe(n=>{if(n&&n.data){const r=this.authService.getDecodedAccessToken(n.data.token);r&&(localStorage.setItem(m.H3.AUTH_TOKEN,n?.data?.token),this.authService.isUserLoggedIn.next(!0),this.router.navigate(r.role==m.xR.CLEINT?["/app/dashboard"]:["/admin/dashboard"]))}else this.helper.showNudge("User not found!!")})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(t.qu),e.Y36(d.e),e.Y36(a.F0),e.Y36(c.W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:20,vars:1,consts:[[1,"d-flex","h-100"],[1,"w-100"],[1,"d-flex","justify-content-center","align-items-center",2,"height","80vh"],[1,"border","p-4","rounded-3"],[1,"d-flex","justify-content-center"],["src","","alt",""],[3,"formGroup"],[1,"mt-2"],["for",""],["type","email","email","","required","","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],[1,"btn","btn-success","w-100",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"h4"),e._uU(7,"TODO-X"),e.qZA()(),e.TgZ(8,"form",6)(9,"div",7)(10,"label",8),e._uU(11,"Email"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"div",7)(14,"label",8),e._uU(15,"Password"),e.qZA(),e._UZ(16,"input",10),e.qZA(),e.TgZ(17,"div",7)(18,"button",11),e.NdJ("click",function(){return r.loginUser()}),e._uU(19,"Login"),e.qZA()()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",r.loginForm))},dependencies:[t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.on,t.sg,t.u]}),o})()},{path:"signup",component:(()=>{class o{constructor(n,r,u,l){this.fb=n,this.authService=r,this.router=u,this.helper=l,this.signupForm=this.fb.group({username:["",t.kI.required],email:["",[t.kI.required,t.kI.email]],password:["",t.kI.required],confirmPassword:["",t.kI.required]})}ngOnInit(){}signupUser(){this.signupForm.value.confirmPassword==this.signupForm.value.password&&this.signupForm.valid&&this.authService.signUpUser(this.signupForm.value).subscribe({next:n=>{n&&(this.helper.showNudge(n.message),setTimeout(()=>{this.router.navigate(["/app/login"])},500))},error:n=>{this.helper.showNudge(n.error.message)}})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(t.qu),e.Y36(d.e),e.Y36(a.F0),e.Y36(c.W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-signup"]],decls:28,vars:1,consts:[[1,"d-flex","h-100"],[1,"w-100"],[1,"d-flex","justify-content-center","align-items-center",2,"height","80vh"],[1,"border","p-4","rounded-3"],[1,"d-flex","justify-content-center"],["src","","alt",""],[3,"formGroup"],[1,"mt-2"],["for",""],["type","text","formControlName","username",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","confirmPassword",1,"form-control"],[1,"btn","btn-success","w-100",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"h4"),e._uU(7,"TODO-X"),e.qZA()(),e.TgZ(8,"form",6)(9,"div",7)(10,"label",8),e._uU(11,"UserName"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"div",7)(14,"label",8),e._uU(15,"Email"),e.qZA(),e._UZ(16,"input",10),e.qZA(),e.TgZ(17,"div",7)(18,"label",8),e._uU(19,"Password"),e.qZA(),e._UZ(20,"input",11),e.qZA(),e.TgZ(21,"div",7)(22,"label",8),e._uU(23,"Confirm Password"),e.qZA(),e._UZ(24,"input",12),e.qZA(),e.TgZ(25,"div",7)(26,"button",13),e.NdJ("click",function(){return r.signupUser()}),e._uU(27,"Signup"),e.qZA()()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",r.signupForm))},dependencies:[t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u]}),o})()},{path:"**",redirectTo:"login"}]}];let h=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.Bz.forChild(f),a.Bz]}),o})();var v=s(4696);let Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[t.u5,t.UX,v.S,g.ez,h]}),o})()}}]);
